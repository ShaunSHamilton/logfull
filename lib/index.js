var s=class extends Error{constructor(t){super(t);this.name="Logover",this.stackTraceDepth=2}get stacks(){if(this.stack){let t=this.stack.split(`
`);return[t[0],...t.slice(2,this.stackTraceDepth+2)].join(`
`)}return""}set stackDepth(t){this.stackTraceDepth=t}};var l=(i=>(i.Black="0m",i.Red="1m",i.Green="2m",i.Yellow="3m",i.Blue="4m",i.Magenta="5m",i.Cyan="6m",i.White="7m",i))(l||{}),g=(n=>(n.Reset="\x1B[0m",n.Bright="\x1B[1m",n.Dim="\x1B[2m",n.Italic="\x1B[3m",n.Underline="\x1B[4m",n.Blink="\x1B[5m",n.FastBlink="\x1B[6m",n.Reverse="\x1B[7m",n.Hide="\x1B[8m",n.Strike="\x1B[9m",n.Foreground="\x1B[3",n.Background="\x1B[4",n))(g||{}),a={debug:0,info:1,warn:2,error:3};var d=`${"\x1B[5m"}${"\x1B[3"}${"3m"}Assertion failed:${"\x1B[0m"}`,h=class extends Function{constructor(){super("...args","return this._bound.assert(...args)");return this._bound=this.bind(this),this._bound}assert(t,o){if(!t)throw new s(o||d)}equal(t,o,c){if(t!==o){let p=new s(c||`${d} ${t} !== ${o}`);throw p.expected=t,p.actual=o,c&&(p.msg=c),p}}};var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],O=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function m(r,e){if(r===null)return"";if(typeof r=="string")return f(new Date,r);let t=r[e];if(t===void 0)return"";if(t)return f(new Date,t);throw new s(`Invalid timestamp format. See https://github.com/ShaunSHamilton/logover for configuration options.
`)}function f(r,e){let t=r.getFullYear().toString(),o=t.slice(-2),c=r.getMonth(),p=T[c],b=(c+1).toString().padStart(2,"0"),w=y[c],i=r.getDay(),x=L[i],S=O[i],Y=r.getDate().toString().padStart(2,"0"),n=r.getHours().toString().padStart(2,"0"),M=r.getMinutes().toString().padStart(2,"0"),D=r.getSeconds().toString().padStart(2,"0"),k=r.getMilliseconds().toString().padStart(3,"0"),v=r.getTimezoneOffset()>0?"-":"+";return e.replace(new RegExp("(?<!\\\\)Y(?<!\\\\)Y(?<!\\\\)Y(?<!\\\\)Y","g"),t).replace(new RegExp("(?<!\\\\)Y(?<!\\\\)Y","g"),o).replace(new RegExp("(?<!\\\\)M(?<!\\\\)M(?<!\\\\)M","g"),p).replace(new RegExp("(?<!\\\\)M(?<!\\\\)M","g"),b).replace(new RegExp("(?<!\\\\)M","g"),w).replace(new RegExp("(?<!\\\\)W(?<!\\\\)w(?<!\\\\)w","g"),x).replace(new RegExp("(?<!\\\\)W","g"),S).replace(new RegExp("(?<!\\\\)d(?<!\\\\)d","g"),Y).replace(new RegExp("(?<!\\\\)h(?<!\\\\)h","g"),n).replace(new RegExp("(?<!\\\\)m(?<!\\\\)m","g"),M).replace(new RegExp("(?<!\\\\)s(?<!\\\\)s","g"),D).replace(new RegExp("(?<!\\\\)S(?<!\\\\)S(?<!\\\\)S","g"),k).replace(new RegExp("(?<!\\\\)Z","g"),v)}var u=class{constructor(e){this.options={level:"info",info:"\u{1F535} INFO: ",warn:"\u{1F7E0} WARN: ",error:"\u{1F534} ERROR: ",debug:"\u{1F7E2} DEBUG: ",trace:[],stackTraceDepth:2,timestamp:{debug:"YYYY-MM-dd hh:mm:ss",info:"YYYY-MM-dd hh:mm:ss",warn:"YYYY-MM-dd hh:mm:ss",error:"YYYY-MM-dd hh:mm:ss"}},e&&Object.keys(e).map(t=>{if(!this.options.hasOwnProperty(t))throw new s(`Logover 
Unknown option: ${t}`);this.options[t]=e[t]})}info(...e){if(a[this.options.level]<=a.info){let t=m(this.options.timestamp,"info");if(console.info(this.options.info,t,...e),this.options.trace.includes("info")){let o=new s("\x1B[36m[INFO] \x1B[0m");o.stackDepth=this.options.stackTraceDepth,console.log(o.stacks),console.log("")}}}warn(...e){if(a[this.options.level]<=a.warn){let t=m(this.options.timestamp,"warn");if(console.warn(this.options.warn,t,...e),this.options.trace.includes("warn")){let o=new s("\x1B[33m[WARN] \x1B[0m");o.stackDepth=this.options.stackTraceDepth,console.log(o.stacks),console.log("")}}}error(...e){if(a[this.options.level]<=a.error){let t=m(this.options.timestamp,"error");if(console.error(this.options.error,t,...e),this.options.trace.includes("error")){let o=new s("\x1B[31m[ERROR] \x1B[0m");o.stackDepth=this.options.stackTraceDepth,console.log(o.stacks),console.log("")}}}debug(...e){if(a[this.options.level]===a.debug){let t=m(this.options.timestamp,"debug");if(console.debug(this.options.debug,t,...e),this.options.trace.includes("debug")){let o=new s("\x1B[32m[DEBUG] \x1B[0m");o.stackDepth=this.options.stackTraceDepth,console.log(o.stacks),console.log("")}}}set option(e){Object.keys(e).map(t=>{if(!this.options.hasOwnProperty(t))throw new s(`Logover 
Unknown option: ${t}`);this.options[t]=e[t]})}};export{g as Ansi,h as Assert,l as Colours,a as LogLevel,u as Logger};
